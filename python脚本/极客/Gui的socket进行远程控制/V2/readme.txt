分析源码 自己动手。